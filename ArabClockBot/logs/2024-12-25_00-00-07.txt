(node:21) ExperimentalWarning: CommonJS module /home/container/tmp/node-v23.1.0-linux-x64/lib/node_modules/npm/node_modules/debug/src/node.js is loading ES Module /home/container/tmp/node-v23.1.0-linux-x64/lib/node_modules/npm/node_modules/supports-color/index.js using require().
Support for loading ES Module in require() is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)

up to date, audited 167 packages in 1s

27 packages are looking for funding
  run `npm fund` for details

3 vulnerabilities (2 moderate, 1 high)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
(node:32) ExperimentalWarning: CommonJS module /home/container/tmp/node-v23.1.0-linux-x64/lib/node_modules/npm/node_modules/debug/src/node.js is loading ES Module /home/container/tmp/node-v23.1.0-linux-x64/lib/node_modules/npm/node_modules/supports-color/index.js using require().
Support for loading ES Module in require() is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)

> discord-bot@1.0.0 start
> node index.js

[32minfo[39m: تم تحميل الأمر: activedevbadge {"timestamp":"2024-12-25T00:00:10.995Z"}
[32minfo[39m: تم تحميل الأمر: admin-data {"timestamp":"2024-12-25T00:00:11.000Z"}
[32minfo[39m: تم تحميل الأمر: force-checkout {"timestamp":"2024-12-25T00:00:11.001Z"}
[32minfo[39m: تم تحميل الأمر: force-close-tickets {"timestamp":"2024-12-25T00:00:11.002Z"}
[32minfo[39m: تم تحميل الأمر: help {"timestamp":"2024-12-25T00:00:11.003Z"}
[32minfo[39m: تم تحميل الأمر: leaderboard {"timestamp":"2024-12-25T00:00:11.004Z"}
[32minfo[39m: تم تحميل الأمر: open-sessions {"timestamp":"2024-12-25T00:00:11.004Z"}
[32minfo[39m: تم تحميل الأمر: ping {"timestamp":"2024-12-25T00:00:11.005Z"}
[32minfo[39m: تم تحميل الأمر: points {"timestamp":"2024-12-25T00:00:11.006Z"}
[32minfo[39m: تم تحميل الأمر: reset-tickets {"timestamp":"2024-12-25T00:00:11.006Z"}
[32minfo[39m: تم تحميل الأمر: servers-list {"timestamp":"2024-12-25T00:00:11.007Z"}
[32minfo[39m: تم تحميل الأمر: setup {"timestamp":"2024-12-25T00:00:11.010Z"}
[32minfo[39m: تم تحميل الأمر: stats {"timestamp":"2024-12-25T00:00:11.011Z"}
[32minfo[39m: تم تحميل الأمر: update {"timestamp":"2024-12-25T00:00:11.011Z"}
[32minfo[39m: تم تحميل الأمر: vac {"timestamp":"2024-12-25T00:00:11.012Z"}
تم تسجيل الدخول بنجاح
تم إعداد البوت بنجاح
[32minfo[39m: تم تسجيل الدخول كـ ArabPast Bot#3173 {"timestamp":"2024-12-25T00:00:11.950Z"}
تم تسجيل الدخول كـ ArabPast Bot#3173
[32minfo[39m: تم الاتصال بقاعدة البيانات MongoDB {"timestamp":"2024-12-25T00:00:12.106Z"}
بدء تحديث 15 من الأوامر.
✅ تم تحديث 15 من الأوامر بنجاح.
Error updating bot presence: TypeError: Cannot read properties of undefined (reading 'setPresence')
    at updateBotPresence (/home/container/utils/botPresence.js:3:23)
    at Client.<anonymous> (/home/container/index.js:452:15)
    at Client.emit (node:events:507:28)
    at GuildUpdateAction.handle (/home/container/node_modules/discord.js/src/client/actions/GuildUpdate.js:19:14)
    at module.exports [as GUILD_UPDATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/GUILD_UPDATE.js:4:30)
    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)
    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)
    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)
    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
Starting check-in process for user: 1008480992358563961
Starting check-in process for user: 1261815306381164726
Starting check-in process for user: 608209289399762954
[31merror[39m: Uncaught Exception: Uncaught Exception: {"critical":true,"stack":"TypeError: Cannot read properties of undefined (reading 'startsWith')\n    at Client.<anonymous> (/home/container/index.js:1882:37)\n    at Client.emit (node:events:519:35)\n    at InteractionCreateAction.handle (/home/container/node_modules/discord.js/src/client/actions/InteractionCreate.js:97:12)\n    at module.exports [as INTERACTION_CREATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/INTERACTION_CREATE.js:4:36)\n    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/home/container/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-25T19:36:27.535Z"}
Error updating bot presence: TypeError: Cannot read properties of undefined (reading 'setPresence')
    at updateBotPresence (/home/container/utils/botPresence.js:3:23)
    at Client.<anonymous> (/home/container/index.js:452:15)
    at Client.emit (node:events:507:28)
    at GuildUpdateAction.handle (/home/container/node_modules/discord.js/src/client/actions/GuildUpdate.js:19:14)
    at module.exports [as GUILD_UPDATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/GUILD_UPDATE.js:4:30)
    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)
    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)
    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)
    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
Error updating bot presence: TypeError: Cannot read properties of undefined (reading 'setPresence')
    at updateBotPresence (/home/container/utils/botPresence.js:3:23)
    at Client.<anonymous> (/home/container/index.js:452:15)
    at Client.emit (node:events:507:28)
    at GuildUpdateAction.handle (/home/container/node_modules/discord.js/src/client/actions/GuildUpdate.js:19:14)
    at module.exports [as GUILD_UPDATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/GUILD_UPDATE.js:4:30)
    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)
    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)
    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)
    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
[32minfo[39m: Starting automatic check-out... {"timestamp":"2024-12-25T20:58:00.581Z"}
[32minfo[39m: Starting daily attendance report... {"timestamp":"2024-12-25T20:59:00.758Z"}
Starting check-in process for user: 1008480992358563961
Starting check-in process for user: 1071055395348566086
Starting check-in process for user: 1071055395348566086
Starting check-in process for user: 1261841996327292948
Starting check-in process for user: 1280316187510833224
Starting check-in process for user: 766448919558357072
[32minfo[39m: Starting automatic check-out... {"timestamp":"2024-12-26T20:58:00.390Z"}
[32minfo[39m: Starting daily attendance report... {"timestamp":"2024-12-26T20:59:00.698Z"}
Error updating bot presence: TypeError: Cannot read properties of undefined (reading 'setPresence')
    at updateBotPresence (/home/container/utils/botPresence.js:3:23)
    at Client.<anonymous> (/home/container/index.js:452:15)
    at Client.emit (node:events:507:28)
    at GuildUpdateAction.handle (/home/container/node_modules/discord.js/src/client/actions/GuildUpdate.js:19:14)
    at module.exports [as GUILD_UPDATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/GUILD_UPDATE.js:4:30)
    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)
    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)
    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)
    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
Error updating bot presence: TypeError: Cannot read properties of undefined (reading 'setPresence')
    at updateBotPresence (/home/container/utils/botPresence.js:3:23)
    at Client.<anonymous> (/home/container/index.js:452:15)
    at Client.emit (node:events:507:28)
    at GuildUpdateAction.handle (/home/container/node_modules/discord.js/src/client/actions/GuildUpdate.js:19:14)
    at module.exports [as GUILD_UPDATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/GUILD_UPDATE.js:4:30)
    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)
    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)
    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)
    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
Error updating bot presence: TypeError: Cannot read properties of undefined (reading 'setPresence')
    at updateBotPresence (/home/container/utils/botPresence.js:3:23)
    at Client.<anonymous> (/home/container/index.js:452:15)
    at Client.emit (node:events:507:28)
    at GuildUpdateAction.handle (/home/container/node_modules/discord.js/src/client/actions/GuildUpdate.js:19:14)
    at module.exports [as GUILD_UPDATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/GUILD_UPDATE.js:4:30)
    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)
    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)
    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)
    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)
[31merror[39m: Uncaught Exception: Uncaught Exception: {"critical":true,"stack":"TypeError: Cannot read properties of undefined (reading 'startsWith')\n    at Client.<anonymous> (/home/container/index.js:1882:37)\n    at Client.emit (node:events:519:35)\n    at InteractionCreateAction.handle (/home/container/node_modules/discord.js/src/client/actions/InteractionCreate.js:97:12)\n    at module.exports [as INTERACTION_CREATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/INTERACTION_CREATE.js:4:36)\n    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/home/container/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-26T21:28:09.890Z"}
[31merror[39m: Uncaught Exception: Uncaught Exception: {"critical":true,"stack":"TypeError: Cannot read properties of undefined (reading 'startsWith')\n    at Client.<anonymous> (/home/container/index.js:1882:37)\n    at Client.emit (node:events:519:35)\n    at InteractionCreateAction.handle (/home/container/node_modules/discord.js/src/client/actions/InteractionCreate.js:97:12)\n    at module.exports [as INTERACTION_CREATE] (/home/container/node_modules/discord.js/src/client/websocket/handlers/INTERACTION_CREATE.js:4:36)\n    at WebSocketManager.handlePacket (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/home/container/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/home/container/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/home/container/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/home/container/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-26T21:29:02.476Z"}
[31merror[39m: خطأ في تنفيذ الأمر leaderboard: خطأ في تنفيذ الأمر leaderboard: {"critical":false,"stack":"ReferenceError: logger is not defined\n    at Object.execute (/home/container/commands/leaderboard.js:34:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Client.<anonymous> (/home/container/index.js:304:17)","timestamp":"2024-12-26T21:29:02.989Z"}
Error in interaction: ReferenceError: logger is not defined
    at Object.execute (/home/container/commands/leaderboard.js:34:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Client.<anonymous> (/home/container/index.js:304:17)
